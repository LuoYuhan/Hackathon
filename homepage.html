<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Thanksgiving Ecard</title>
	<!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
	<script src="js/verticaltab.js"></script>
	<title>Say Hi</title>
	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

</head>

<body>
	<section class="header" style="background-color: #F99259; height: 120px;">
        <div class="container-fluid">
            <!-- header -->
            <div class="row-fluid">
                <img alt="" src="images/i13.png" style="display:inline;position: absolute;height: 80px" class="img-responsive">
                <div class="span12 text-center"
                     style="font-size:14em;color:#ffffff;">
                    <h3 style="margin-left:200px;padding-top:40px">
                        <span class="glyphicon glyphicon-heart"></span> HAPPY THANKSGIVING! <span class="glyphicon glyphicon-star"></span>
                    </h3>
                </div>
            </div>
        </div>
	</section>

    <section id="mainsection" style="background-color: #F99259">
        <div>
            <div class="row">
                <!-- vertical tab -->

                    <div class="col-lg-4 col-md-4 bhoechie-tab-container tabcontent">
                        <div class="col-lg-3 col-md-3 bhoechie-tab-menu">
                            <div class="list-group">
                                <a href=" " class="list-group-item active text-center tabbutton">
                                    <p class="tabtext">BACKGROUND</p>
                                </a >
                                <a href="#" class="list-group-item text-center tabbutton">
                                    <p class="tabtext">TEXT STYLE</p>
                                </a >
                                <a href="#" class="list-group-item text-center tabbutton">
                                    <p class="tabtext">PENDANTS</p>
                                </a >
                                <a href="#" class="list-group-item text-center tabbutton">
                                    <p class="tabtext">PREVIEW</p>
                                </a >
                            </div>
                        </div>
                        <div class="col-lg-9 col-md-9 bhoechie-tab thunmbnailimg">

                            <div class="bhoechie-tab-content active">

                                <div class="background scrollwindow">
                                </div>
                                </div>


                            <div class="bhoechie-tab-content">
                                <div class="greetingtext scrollwindow">
                                    
                                </div>
                            </div>

                           
                            <div class="bhoechie-tab-content">
                                <div class="pendants scrollwindow">
                                    
                                </div>
                            </div>

                            <div class="bhoechie-tab-content">
                                <center>
                                    <div style="margin-bottom: 30px">
                                        <form>
                                            <fieldset class="form-group">
                                                <label for="emailInput" class="previewfont">Send Thanksgiving Greeting to Your Friend</label>
                                                <input type="email" class="form-control" id="emailInput" placeholder="Email">
                                            </fieldset>
                                            <button type="submit" class="btn btn-warning btn150">Send to Friend</button>
                                        </form>
                                    </div>

                                    <p class="previewfont">You can also save the static image to your computer.</p>
                                    <a class="btn btn-warning btn150" id="btn1" role="button" href="#" >Save to Computer</a>
                                </center>
                            </div>

                        </div>
                    </div>

                <div class="col-lg-8 col-md-8 bhoechie-tab-container" style = "background-color:grey;height:500px;">
                    <div style="padding: 10px">
                        <div id="mycard">
                            <div class="ecard">

                                <div class="text">
                                    <div class="textbox">
                                        <button class="btn btn-warning" data-toggle="modal" data-target="#myModal" id="textinput">edit<span class="glyphicon glyphicon-pencil"></span></button>
                                        <h3 id="greetingshow">Can Can Shi Ben Dan</h3>
                                    </div>

                                </div>
                                <img src="images/bg1.jpg" class="img-responsive" id="0" >


                            </div> 
                        </div>
                    </div>
                </div>
                </div>
                <!-- botttom-right -->
            <div class="modal fade" id="myModal" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #F99259; -webkit-border-radius: 4px 4px 0 0;color: white">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Input Your Thanksgiving Greetings to Your Friend</h4>
                        </div>
                        <div class="modal-body">
                            <form role="form">
                                <div class="form-group">
                                    <input class="form-control inputtext" id="inputgreeting" type="text">
                                </div>
                            </form>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-warning" data-dismiss="modal" id="save">Save</button>
                        </div>
                    </div>



            </div>

    </section>
    <script type="text/javascript" src="js/html2canvas.js"></script>

    <script type="text/javascript">

        /*click save to image*/
    $("#btn1").on("click", function(event) {
        html2canvas(document.getElementById("mycard"), {
            onrendered: function (canvas) {
                var img = canvas.toDataURL("image/jpeg", 1.0).replace("image/jpeg", "image/octet-stream");
                window.location.href = img;
            }
        });
    });

    /* click change text content*/
    $("#save").on("click", function( ) {
        var getValue = document.getElementById("inputgreeting").value;
        var endValue=((getValue.replace(/<(.+?)>/gi,"&lt;$1&gt;")).replace(/ /gi,"&nbsp;")).replace(/\n/gi,"<br>");
        document.getElementById("greetingshow").innerHTML=endValue;
    });



    </script>






</body>
</html>